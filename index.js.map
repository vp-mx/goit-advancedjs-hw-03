{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = imgArr => {\n    return imgArr.reduce((acc, el) => {\n        return (\n            acc +\n            `\n            <li class=\"gallery-card\">\n              <a class=\"gallery-img-orig\" href=\"${el.largeImageURL}\">\n                <img class=\"gallery-img\" src=\"${el.webformatURL}\" alt=\"${el.tags}\" />\n                <div class=\"img-data\">\n                 <div class=\"img-data-column img-likes\">\n                  <p class=\"img-title\">Likes</p>\n                  <p class=\"img-value\">${el.likes}</p>\n                 </div>\n                 <div class=\"img-data-column img-views\">\n                  <p class=\"img-title\">Views</p>\n                  <p class=\"img-value\">${el.views}</p>\n                 </div>\n                 <div class=\"img-data-column img-comments\">\n                  <p class=\"img-title\">Comments</p>\n                  <p class=\"img-value\">${el.comments}</p>\n                 </div>\n                  <div class=\"img-data-column img-downloads\">\n                  <p class=\"img-title\">Downloads</p>\n                  <p class=\"img-value\">${el.downloads}</p>\n                 </div>\n                </div>\n              </a>\n            </li>\n           `\n        )\n    }, '');\n};\n","export const fetchPhotosByQuery = (searchedQuery) => {\n    return fetch(`https://pixabay.com/api/?${searchedQuery}`).then((response) => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n\n        return response.json();\n    });\n};\n","import iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\nimport { createGalleryCardTemplate } from \"./js/render-functions\";\nimport { fetchPhotosByQuery } from \"./js/pixabay-api\";\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nlet simplelightbox = new SimpleLightbox('.gallery-card a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n\n    const inputValue = event.currentTarget.elements.user_query.value.trim();\n\n    if (inputValue === '') {\n        iziToast.error({\n            message: \"Search value should not be empty!\",\n            position: \"topRight\",\n        });\n        return;\n    }\n\n    const searchParams = new URLSearchParams({\n        key: \"50950053-db3558a1af50bab2399c0c009\",\n        q: inputValue,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n\n    galleryEl.innerHTML = '';\n    loaderEl.classList.remove('is-hidden');\n\n    fetchPhotosByQuery(searchParams)\n        .then(photos => {\n            loaderEl.classList.add('is-hidden');\n            if (photos.total === 0) {\n                iziToast.error({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: \"topRight\",\n                });\n                galleryEl.innerHTML = '';\n                return;\n            }\n            galleryEl.innerHTML = createGalleryCardTemplate(photos.hits);\n            simplelightbox.refresh();\n        })\n        .catch((error) => {\n            loaderEl.classList.add('is-hidden');\n            iziToast.error({\n                message: \"An error occurred. Please try again!\",\n                position: \"topRight\",\n            });\n        });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);"],"names":["createGalleryCardTemplate","imgArr","acc","el","fetchPhotosByQuery","searchedQuery","response","searchFormEl","galleryEl","loaderEl","simplelightbox","SimpleLightbox","onSearchFormSubmit","event","inputValue","iziToast","searchParams","photos","error"],"mappings":"6vBAAO,MAAMA,EAA4BC,GAC9BA,EAAO,OAAO,CAACC,EAAKC,IAEnBD,EACA;AAAA;AAAA,kDAEsCC,EAAG,aAAa;AAAA,gDAClBA,EAAG,YAAY,UAAUA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA,yCAIvCA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,yCAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,yCAIRA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,yCAIXA,EAAG,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,aAO9C,EAAE,EC9BIC,EAAsBC,GACxB,MAAM,4BAA4BA,CAAa,EAAE,EAAE,KAAMC,GAAa,CACzE,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,KAAI,CAC5B,CAAK,ECFCC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAEpD,IAAIC,EAAiB,IAAIC,EAAe,kBAAmB,CACvD,aAAc,MACd,aAAc,GAClB,CAAC,EAED,MAAMC,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,WAAW,MAAM,KAAI,EAErE,GAAIC,IAAe,GAAI,CACnBC,EAAS,MAAM,CACX,QAAS,oCACT,SAAU,UACtB,CAAS,EACD,MACR,CAEI,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAEDN,EAAU,UAAY,GACtBC,EAAS,UAAU,OAAO,WAAW,EAErCL,EAAmBY,CAAY,EAC1B,KAAKC,GAAU,CAEZ,GADAR,EAAS,UAAU,IAAI,WAAW,EAC9BQ,EAAO,QAAU,EAAG,CACpBF,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACDP,EAAU,UAAY,GACtB,MAChB,CACYA,EAAU,UAAYR,EAA0BiB,EAAO,IAAI,EAC3DP,EAAe,QAAO,CAClC,CAAS,EACA,MAAOQ,GAAU,CACdT,EAAS,UAAU,IAAI,WAAW,EAClCM,EAAS,MAAM,CACX,QAAS,uCACT,SAAU,UAC1B,CAAa,CACb,CAAS,CACT,EAEAR,EAAa,iBAAiB,SAAUK,CAAkB"}